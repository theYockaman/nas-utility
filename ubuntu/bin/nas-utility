#!/bin/bash
set -e

# --- Default Configuration ---
APP_NAME="nas-utility"
WHIPTAIL=false
ARGS=()

# --- Functions ---
source "/usr/local/lib/$APP_NAME/utils.sh"

# --- Main ---
main() {

    #  Parse global arguments
    parse_global_args "$@"
    set -- "${ARGS[@]}"

    # If no arguments provided, show help
    if [ ${#ARGS[@]} -eq 0 ]; then
        show_help
        exit 0
    fi

    # --- Run Actions ---
    CMD=$1
    shift

    case $CMD in
        -i|install)
            install_menu "$@"
            ;;
        -u|uninstall)
            uninstall_menu "$@"
            ;;
        -d|delete)
            delete_app "$@"
            ;;
        -h|help)
            show_help
            ;;
        *)
            show_help
            ;;
    esac
}

# Start the script
main "$@"






